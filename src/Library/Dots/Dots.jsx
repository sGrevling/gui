import React from 'react';
import './Dots.css';

export const Dots = ({num, color, version = 0}) => {

    const grids = [[
        [],
        [4],
        [0, 8],
        [0, 4, 8],
        [0, 2, 6, 8],
        [0, 2, 4, 6, 8],
        [0, 2, 3, 5, 6, 8],
        [0, 2, 3, 4, 5, 6, 8],
        [0, 1, 2, 3, 5, 6, 7, 8],
        [0, 1, 2, 3, 4, 5, 6, 7, 8],
    ], [
        [],
        [4],
        [0, 8],
        [0, 4, 8],
        [0, 2, 6, 8],
        [0, 2, 4, 6, 8],
        [0, 2, 5, 6, 7, 8],
        [0, 2, 4, 5, 6, 7, 8],
        [0, 1, 2, 3, 5, 6, 7, 8],
        [0, 1, 2, 3, 4, 5, 6, 7, 8],
    ], [
        [],
        [8],
        [4, 8],
        [2, 6, 8],
        [0, 2, 6, 8],
        [0, 2, 4, 6, 8],
        [0, 2, 5, 6, 7, 8],
        [0, 2, 4, 5, 6, 7, 8],
        [0, 1, 2, 3, 5, 6, 7, 8],
        [0, 1, 2, 3, 4, 5, 6, 7, 8],
    ], [
        [],
        [0],
        [1, 4],
        [0, 1, 4],
        [0, 1, 4, 5],
        [0, 1, 4, 6, 9],
        [0, 1, 4, 5, 6, 9],
        [0, 1, 4, 5, 6, 9, 10],
        [0, 1, 4, 5, 6, 9, 11, 14],
        [0, 1, 4, 5, 6, 9, 10, 11, 14],
        [0, 1, 4, 5, 6, 9, 10, 11, 14, 15],
    ], [
        [],
        [0],
        [0, 5],
        [0, 1, 4],
        [0, 1, 4, 5],
        [0, 1, 4, 5, 10],
        [0, 1, 4, 5, 6, 9],
        [0, 1, 4, 5, 6, 9, 10],
        [0, 1, 4, 5, 6, 9, 10, 15],
        [0, 1, 4, 5, 6, 9, 10, 11, 14],
        [0, 1, 4, 5, 6, 9, 10, 11, 14, 15],
    ]
    ];

    const grid = grids[version][num] ?? []

    const renderDot = (i) => grid.includes(i) ? (
        <div
            key={`dot-${i}`}
            className="dot"
            style={{backgroundColor: color ?? 'black'}}
        />
    ) : <div key={`dot-${i}`}/>;

    return (
        <div className={`dots${version ? ' flipped' : ''}${version > 2 ? ' big' : ''}`}>
            {[...Array(version > 2 ? 16 : 9).keys()].map(renderDot)}
        </div>
    );
}